<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc" xsi:schemaLocation=" http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd">
    <mvc:annotation-driven/>
    <context:component-scan base-package="by.it_academy.jd2.mk_jd2_92_22.pizzeria.controllers"/>

    <bean name="pizzaInfoService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.PizzaInfoService" >
        <constructor-arg name="pizzaInfoDao" ref="pizzaInfoDao" />
    </bean>
    <bean name="doneOrderService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.DoneOrderService" >
        <constructor-arg name="doneOrderDao" ref="doneOrderDao" />
    </bean>
    <bean name="menuRowService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.MenuRowService" >
        <constructor-arg name="menuRowDao" ref="menuRowDao" />
        <constructor-arg name="menuDao" ref="menuDao" />
    </bean>
    <bean name="menuService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.MenuService" >
        <constructor-arg name="menuDao" ref="menuDao" />
    </bean>
    <bean name="OrderService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.OrderService" >
        <constructor-arg name="orderDao" ref="orderDao" />
    </bean>
    <bean name="orderStatusService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.OrderStatusService" >
        <constructor-arg name="orderStatusDao" ref="orderStatusDao" />
    </bean>
    <bean name="pizzaService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.PizzaService" >
        <constructor-arg name="pizzaDao" ref="pizzaDao" />
    </bean>
    <bean name="selectedItemService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.SelectedItemService" >
        <constructor-arg name="selectedItemDao" ref="selectedItemDao" />
        <constructor-arg name="orderDao" ref="orderDao" />
    </bean>
    <bean name="stageService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.StageService" >
        <constructor-arg name="stageDao" ref="stageDao" />
        <constructor-arg name="orderStatusDao" ref="orderStatusDao" />
    </bean>
    <bean name="ticketService" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.services.TicketService" >
        <constructor-arg name="ticketDao" ref="ticketDao" />
    </bean>

    <bean id="menuDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.MenuDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="pizzaInfoDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.PizzaInfoDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="doneOrderDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.DoneOrderDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="menuRowDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.MenuRowDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="orderDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.OrderDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="orderStatusDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.OrderStatusDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="pizzaDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.PizzaDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="selectedItemDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.SelectedItemDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="stageDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.StageDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>
    <bean id="ticketDao" class="by.it_academy.jd2.mk_jd2_92_22.pizzeria.dao.TicketDao" >
        <constructor-arg name="connector" ref="dataSource" />
    </bean>

<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource">

    <property name="driverClass" value="org.postgresql.Driver" />
    <property name="jdbcUrl" value="jdbc:postgresql://localhost:5432/pizzeria" />
    <property name="user" value="postgres" />
    <property name="password" value="postgres"/>
    <property name="minPoolSize" value="5" />
    <property name="acquireIncrement" value="5" />
    <property name="maxPoolSize" value="20" />
    <property name="maxStatements" value="180" />

</bean>
</beans>
